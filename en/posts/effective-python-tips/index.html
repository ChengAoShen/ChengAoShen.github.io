<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  üñäÔ∏èEffective Python Tips ¬∑ ChengAo Shen
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="ChengAo Shen">
<meta name="description" content="
  1. Pythonic Thinking
  
    
    Link to heading
  


  1.1 Follow PEP8 Style
  
    
    Link to heading
  


Regarding Naming

Functions, variables, and attributes use lowercase letters, with words separated by underscores.
Protected instance attributes start with a single underscore.
Private instance attributes should start with two underscores.
Class (and exception) names should have the first letter capitalized.
Module-level constants are all uppercase letters, with words separated by underscores.
Instance methods in classes should name the first parameter self to represent the object itself.
The first parameter of class methods should be named cls to represent the class itself.


Regarding Expressions

Use inline negation (write the negation directly before the content to be negated). For example: if a is not b
To check if something is empty, you can directly test it (empty is False). For example: if not somelist
If an expression does not fit on one line, it should be enclosed in parentheses and broken into multiple lines.
Use parentheses to continue multi-line expressions instead of the backslash \.


Regarding Imports

import statements should be placed at the top.
Use absolute names for imports.
When importing, first divide into three parts: standard library, third-party modules, and your own modules.




  1.2 Use f-strings for String Interpolation
  
    
    Link to heading
  

‚ÄÉ‚ÄÉWhen formatting strings, you can use Python&rsquo;s special f-string method.">
<meta name="keywords" content="ChengAo Shen, Homepage, University of Houston, Personal Blog, Ê≤àÈ™ãÈ™ú, ‰∏™‰∫∫‰∏ªÈ°µ, ÂçöÂÆ¢">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="üñäÔ∏èEffective Python Tips">
  <meta name="twitter:description" content="1. Pythonic Thinking Link to heading 1.1 Follow PEP8 Style Link to heading Regarding Naming Functions, variables, and attributes use lowercase letters, with words separated by underscores. Protected instance attributes start with a single underscore. Private instance attributes should start with two underscores. Class (and exception) names should have the first letter capitalized. Module-level constants are all uppercase letters, with words separated by underscores. Instance methods in classes should name the first parameter self to represent the object itself. The first parameter of class methods should be named cls to represent the class itself. Regarding Expressions Use inline negation (write the negation directly before the content to be negated). For example: if a is not b To check if something is empty, you can directly test it (empty is False). For example: if not somelist If an expression does not fit on one line, it should be enclosed in parentheses and broken into multiple lines. Use parentheses to continue multi-line expressions instead of the backslash \. Regarding Imports import statements should be placed at the top. Use absolute names for imports. When importing, first divide into three parts: standard library, third-party modules, and your own modules. 1.2 Use f-strings for String Interpolation Link to heading When formatting strings, you can use Python‚Äôs special f-string method.">

<meta property="og:url" content="https://chengaoshen.com/en/posts/effective-python-tips/">
  <meta property="og:site_name" content="ChengAo Shen">
  <meta property="og:title" content="üñäÔ∏èEffective Python Tips">
  <meta property="og:description" content="1. Pythonic Thinking Link to heading 1.1 Follow PEP8 Style Link to heading Regarding Naming Functions, variables, and attributes use lowercase letters, with words separated by underscores. Protected instance attributes start with a single underscore. Private instance attributes should start with two underscores. Class (and exception) names should have the first letter capitalized. Module-level constants are all uppercase letters, with words separated by underscores. Instance methods in classes should name the first parameter self to represent the object itself. The first parameter of class methods should be named cls to represent the class itself. Regarding Expressions Use inline negation (write the negation directly before the content to be negated). For example: if a is not b To check if something is empty, you can directly test it (empty is False). For example: if not somelist If an expression does not fit on one line, it should be enclosed in parentheses and broken into multiple lines. Use parentheses to continue multi-line expressions instead of the backslash \. Regarding Imports import statements should be placed at the top. Use absolute names for imports. When importing, first divide into three parts: standard library, third-party modules, and your own modules. 1.2 Use f-strings for String Interpolation Link to heading When formatting strings, you can use Python‚Äôs special f-string method.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="en">
    <meta property="article:published_time" content="2023-01-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-01-21T00:00:00+00:00">




<link rel="canonical" href="https://chengaoshen.com/en/posts/effective-python-tips/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.2cd2ba040eaadea1390f8199e24bd994fabd69b5a7034b43fc2440c58fd09808.css" integrity="sha256-LNK6BA6q3qE5D4GZ4kvZlPq9abWnA0tD/CRAxY/QmAg=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">

<link rel="icon" type="image/png" href="/images/favicon.png">








</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://chengaoshen.com/">
      ChengAo Shen
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/en/posts/">Posts</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/en/news/">News</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/en/publications/">Publications</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/en/about/">About Me</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://chengaoshen.com/en/posts/effective-python-tips/">
          üñäÔ∏èEffective Python Tips
        </a>
      </h1>
    </header>

    <h2 id="1-pythonic-thinking">
  1. Pythonic Thinking
  <a class="heading-link" href="#1-pythonic-thinking">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="11-follow-pep8-style">
  1.1 Follow PEP8 Style
  <a class="heading-link" href="#11-follow-pep8-style">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>Regarding Naming
<ol>
<li>Functions, variables, and attributes use lowercase letters, with words separated by underscores.</li>
<li>Protected instance attributes start with a single underscore.</li>
<li>Private instance attributes should start with two underscores.</li>
<li>Class (and exception) names should have the first letter capitalized.</li>
<li>Module-level constants are all uppercase letters, with words separated by underscores.</li>
<li>Instance methods in classes should name the first parameter <code>self</code> to represent the object itself.</li>
<li>The first parameter of class methods should be named <code>cls</code> to represent the class itself.</li>
</ol>
</li>
<li>Regarding Expressions
<ol>
<li>Use inline negation (write the negation directly before the content to be negated). For example: <code>if a is not b</code></li>
<li>To check if something is empty, you can directly test it (empty is False). For example: <code>if not somelist</code></li>
<li>If an expression does not fit on one line, it should be enclosed in parentheses and broken into multiple lines.</li>
<li>Use parentheses to continue multi-line expressions instead of the backslash <code>\</code>.</li>
</ol>
</li>
<li>Regarding Imports
<ol>
<li><code>import</code> statements should be placed at the top.</li>
<li>Use absolute names for imports.</li>
<li>When importing, first divide into three parts: standard library, third-party modules, and your own modules.</li>
</ol>
</li>
</ul>
<h3 id="12-use-f-strings-for-string-interpolation">
  1.2 Use f-strings for String Interpolation
  <a class="heading-link" href="#12-use-f-strings-for-string-interpolation">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉWhen formatting strings, you can use Python&rsquo;s special <strong>f-string</strong> method.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">key</span> <span class="o">=</span> <span class="s2">&#34;my_var&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">value</span> <span class="o">=</span> <span class="mf">1.23</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">key</span><span class="si">!r:</span><span class="s2">&lt;10</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>‚ÄÉ‚ÄÉBy adding <code>f</code> (format) before the string, it indicates that this is an interpolated string. The content inside <code>{}</code> can be variables, and the part after <code>:</code> specifies the formatting method. Using <code>!</code> converts the value to its Unicode and repr form. We can even apply nested formatting.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Customize the number of decimal places displayed</span>
</span></span><span class="line"><span class="cl"><span class="n">places</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1"># Number of decimal places to display</span>
</span></span><span class="line"><span class="cl"><span class="n">number</span> <span class="o">=</span> <span class="mf">1.2345</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;my number is </span><span class="si">{</span><span class="n">number</span><span class="si">:</span><span class="s2">.</span><span class="si">{</span><span class="n">places</span><span class="si">}</span><span class="s2">f</span><span class="si">}</span><span class="s2">)</span>
</span></span></code></pre></div><h3 id="13-use-assignment-expressions">
  1.3 Use Assignment Expressions
  <a class="heading-link" href="#13-use-assignment-expressions">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉThis kind of assignment can be embedded inside other statements (like if), and it can also be used to adjust the prominence of different statements.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Normal writing</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;yes&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Using assignment expression</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="o">:=</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;yes&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Using this reduces the importance of <code>a</code> and makes the statement more fluent. We can also use this assignment style to implement a <code>switch</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># switch statement</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">count</span><span class="o">:=</span><span class="n">a</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;a is enough&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">elif</span> <span class="p">(</span><span class="n">count</span><span class="o">:=</span><span class="n">b</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;b is enough&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Nothing enough&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="14-differences-between-bytes-and-str">
  1.4 Differences between bytes and str
  <a class="heading-link" href="#14-differences-between-bytes-and-str">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉ<code>bytes</code> contains raw data (8-bit unsigned values), while <code>str</code> corresponds to Unicode code points, representing textual characters in human languages. Converting <code>bytes</code> to <code>str</code> requires the <code>decode</code> method, while converting back uses <code>encode</code>. These two types are not compatible with each other. In the core part of the program, Unicode data should be used, so decoding and encoding operations can be done at the beginning of the program, which is called the <strong>Unicode Sandwich</strong>.</p>
<p>‚ÄÉ‚ÄÉThis difference should be especially noted when opening files using <code>open</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;data.bin&#34;</span> <span class="p">,</span><span class="s2">&#34;wb&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>  <span class="c1"># Open binary file as f and operate</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;text.txt&#34;</span><span class="p">,</span><span class="s2">&#34;w&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="c1"># Open text file</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;data.bin&#34;</span><span class="p">,</span><span class="s2">&#34;r&#34;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&#34;cp1252&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="c1"># Open binary file and re-encode as text</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span></code></pre></div><h3 id="15-use-enumerate-instead-of-range">
  1.5 Use enumerate instead of range
  <a class="heading-link" href="#15-use-enumerate-instead-of-range">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉWhen we need to iterate over an iterator and know the current position, we can choose to use <code>enumerate</code> to wrap the iterator as a lazy generator, which can be manually advanced, returning a tuple of the current index (starting from 0) and the iterator&rsquo;s content each time.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">l</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span><span class="s2">&#34;b&#34;</span><span class="p">,</span><span class="s2">&#34;c&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">it</span> <span class="o">=</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">num</span><span class="p">,</span><span class="n">con</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="c1"># Advance one step</span>
</span></span></code></pre></div><h3 id="16-use-zip-to-iterate-two-iterators-simultaneously">
  1.6 Use zip to iterate two iterators simultaneously
  <a class="heading-link" href="#16-use-zip-to-iterate-two-iterators-simultaneously">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉSometimes we need to iterate two iterators at the same time. We can use <code>zip</code> to wrap both into a lazy generator, then unpack the content inside. <em>Note that <code>zip</code> uses the shorter iterator as its length</em>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span><span class="s2">&#34;b&#34;</span><span class="p">,</span><span class="s2">&#34;c&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">s</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">itertools</span>
</span></span><span class="line"><span class="cl"><span class="n">l</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">zip_longest</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">fillvalue</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="c1"># Choose the longer one as total length, missing filled with the third argument</span>
</span></span></code></pre></div><h2 id="2-lists-and-dictionaries">
  2. Lists and Dictionaries
  <a class="heading-link" href="#2-lists-and-dictionaries">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="21-learn-slicing">
  2.1 Learn slicing
  <a class="heading-link" href="#21-learn-slicing">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉIn Python, classes that implement <code>__getitem__</code> and <code>__setitem__</code> can be sliced. The syntax is <code>list[start:end]</code>, which means taking from start up to (but not including) end. If omitted, it means from the beginning (or to the end). Negative indices count from the end. If the index exceeds the list size, it defaults to the last element.</p>
<p>‚ÄÉ‚ÄÉThe sliced list is a new object; modifying it does not affect the original. Assigning to a slice does not require the same size but directly replaces the slice.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">l1</span> <span class="o">=</span> <span class="n">l</span><span class="p">[:]</span> <span class="c1"># Use slicing to assign a new object</span>
</span></span><span class="line"><span class="cl"><span class="n">l</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># Use slice assignment</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># At this point, l1 is [1,2,3], and l is [1,2,3,2,3]</span>
</span></span></code></pre></div><p>‚ÄÉ‚ÄÉSlicing can also specify step size <code>list[start:end:step]</code>, which indicates the stride. Using -1 can reverse a string, but generally, you should follow the principle: <strong>use positive step, omit start and end indices</strong> for readability.</p>
<h3 id="22-use-starred-unpacking">
  2.2 Use starred unpacking
  <a class="heading-link" href="#22-use-starred-unpacking">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉSometimes we need to unpack a few elements from a list, putting the rest into a starred variable forming a list. We can also unpack generators, but be careful about memory exhaustion.</p>
<p>Note: Generally, a tuple should not be unpacked into more than <strong>three normal variables</strong> or <strong>two normal variables and one starred variable</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="o">*</span><span class="n">c</span><span class="o">=</span><span class="n">l</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Now a=1, b=2, c=[3,4,5]</span>
</span></span></code></pre></div><h3 id="23-use-sort-for-sorting">
  2.3 Use sort for sorting
  <a class="heading-link" href="#23-use-sort-for-sorting">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉWhen using the <code>sort</code> function to sort, we can use the <code>key</code> parameter to customize a sorting function.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;abc&#34;</span><span class="p">,</span><span class="s2">&#34;ad&#34;</span><span class="p">,</span><span class="s2">&#34;b&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1"># Sort a in ascending order by string length</span>
</span></span><span class="line"><span class="cl"><span class="c1"># When multiple criteria are needed, return a tuple for sorting</span>
</span></span><span class="line"><span class="cl"><span class="n">a</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">x</span><span class="p">))</span> <span class="c1"># First sort by length descending, then by alphabetical order when lengths are equal</span>
</span></span></code></pre></div><h3 id="24-use-get-to-access-dictionary-contents">
  2.4 Use get to access dictionary contents
  <a class="heading-link" href="#24-use-get-to-access-dictionary-contents">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉWhen accessing dictionary contents, you can index by key directly, but sometimes keys may be missing, causing errors. We can use the <code>get</code> function to get dictionary contents, specifying a default value if the key is missing (simplifying the program).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;a&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&#34;b&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># Returns the default value 0 if key is missing</span>
</span></span></code></pre></div><p>‚ÄÉ‚ÄÉAlso, for missing keys, we can use <code>defaultdict</code> to provide default values.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span> <span class="c1"># When the key does not exist, it is set to list type</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># &#39;a&#39; is a missing key, but it automatically initializes as a list and appends 1</span>
</span></span></code></pre></div><h3 id="25-use-__missing__-to-construct-dependent-default-values-for-keys">
  2.5 Use <code>__missing__</code> to construct dependent default values for keys
  <a class="heading-link" href="#25-use-__missing__-to-construct-dependent-default-values-for-keys">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉSometimes we not only need to set default values for a dictionary but also want to perform some operations (like opening a file and using the file handle as the value). In this case, we can construct a new dictionary type to set default values.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">FileDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__missing__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span><span class="p">):</span> <span class="c1"># If the key already has a value (file already opened), it won&#39;t open again</span>
</span></span><span class="line"><span class="cl">         <span class="n">handle</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">         <span class="bp">self</span><span class="p">[</span><span class="n">path</span><span class="p">]</span> <span class="o">=</span> <span class="n">handle</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">handle</span>
</span></span></code></pre></div><h2 id="3-functions">
  3. Functions
  <a class="heading-link" href="#3-functions">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="31-design-parameter-passing-methods">
  3.1 Design parameter passing methods
  <a class="heading-link" href="#31-design-parameter-passing-methods">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉIn Python, parameters can be passed in two ways: positional and keyword. By default, both are allowed, but sometimes positional parameters should be used: <em>disallow external calls by keyword to reduce coupling to parameter names</em>, while sometimes keyword parameters are better: <em>force callers to specify which parameter to pass</em>.</p>
<p>‚ÄÉ‚ÄÉWe can restrict this in function definitions:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="o">/</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="o">*</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span></code></pre></div><blockquote>
<p>Parameters to the left of <code>/</code> must be positional only; parameters to the right of <code>*</code> must be keyword only; parameters in between can be either.</p></blockquote>
<h3 id="32-better-use-of-positional-parameters">
  3.2 Better use of positional parameters
  <a class="heading-link" href="#32-better-use-of-positional-parameters">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉSometimes, we want to pass multiple positional parameters at once, which can be done by unpacking a list.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">function1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;a=</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">,b=</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">,c=</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">function1</span><span class="p">(</span><span class="o">*</span><span class="n">l</span><span class="p">)</span>
</span></span></code></pre></div><p>Sometimes we don&rsquo;t know how many positional parameters will be passed, so we can use the variadic parameter to capture all into a tuple.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="o">*</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="k">pass</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Call function</span>
</span></span><span class="line"><span class="cl"><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># a=1, kwargs = (2,3,4,5)</span>
</span></span></code></pre></div><h3 id="33-better-use-of-keyword-parameters">
  3.3 Better use of keyword parameters
  <a class="heading-link" href="#33-better-use-of-keyword-parameters">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉGenerally, keyword parameters have these three advantages:</p>
<ol>
<li>Calling functions with keywords makes the call clearer.</li>
<li>Keyword parameters can have default values.</li>
<li>Functions can be flexibly extended.</li>
</ol>
<p>Sometimes, we want to pass multiple keyword parameters at once, which can be done by unpacking a dictionary.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">function1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;a=</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">,b=</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">,c=</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;b&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&#34;c&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">function1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
</span></span></code></pre></div><p>Sometimes we don&rsquo;t know how many keyword parameters will be passed, so we can use the variadic keyword parameter to capture all into a dictionary.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Print dictionary contents in a certain format</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">printd</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Call function</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;b&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&#34;c&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">printd</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
</span></span></code></pre></div><p>‚ÄÉ‚ÄÉKeyword parameters often have default values as optional arguments, but the default value <strong>should not be an object</strong>, because the object is created once when the function is defined, and all calls will refer to the same object. So for default objects or mutable defaults, set it to None first.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="p">{}):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">d</span> <span class="c1"># Returns the same d every time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># So initially set to None, then create a new object</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">d</span> <span class="c1"># Now returns different d each time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="n">when</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span> <span class="c1"># If not specified, generate based on current time.</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">when</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">when</span> <span class="o">=</span> <span class="n">datatime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span></span></code></pre></div><h3 id="34-function-closures">
  3.4 Function closures
  <a class="heading-link" href="#34-function-closures">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉPython supports function closures, meaning you can define a nested function inside a larger function, and the inner function can reference values from the outer function. Functions are first-class objects and can be manipulated and referenced directly. We can use closures to implement special sorting.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Use closure to implement special sorting</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">sort_by_group</span><span class="p">(</span><span class="n">values</span><span class="p">,</span><span class="n">group</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">helper</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">group</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">values</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">helper</span><span class="p">)</span>
</span></span></code></pre></div><blockquote>
<p>The inner function prioritizes sorting elements inside the group, then sorts by value.</p></blockquote>
<p>In this example, the inner function can read the outer function&rsquo;s variables, but if we modify a variable inside the inner function, it does not affect the outer function&rsquo;s variable. This is because of Python&rsquo;s three-level scope: even if the variable name in the current function shadows the outer variable, assigning to it creates a new variable in the current scope to prevent scope pollution.</p>
<blockquote>
<p>Three-level scope</p>
<ol>
<li>Current function scope</li>
<li>Enclosing scope (functions containing the current function)</li>
<li>Module-level scope (global scope)</li>
</ol></blockquote>
<p>If we want to extend the variable&rsquo;s scope, we can use <code>nonlocal</code> to extend to the enclosing scope, or <code>global</code> to extend to the global scope.</p>
<h3 id="35-function-decorators">
  3.5 Function decorators
  <a class="heading-link" href="#35-function-decorators">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉPython can use decorators to wrap a function, running other code before and after the function executes. This can ensure users use the function correctly, help debug, or implement function registration.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">stime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># Run decorated function (with outer parameters)</span>
</span></span><span class="line"><span class="cl">		<span class="n">etime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nb">print</span><span class="p">(</span><span class="n">etime</span><span class="o">-</span><span class="n">stime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">result</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">wrapper</span> <span class="c1"># Return decorated function</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@trace</span> <span class="c1"># Decorate fun1 to add timing before and after</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">fun1</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span>
</span></span></code></pre></div><blockquote>
<p>The above code is a timing decorator, wrapping a function into another function (<code>wrapper</code>) and returning it, adding start and end time recording code before and after the function.</p></blockquote>
<p>However, the decorated function&rsquo;s name is not the original but becomes the decorator&rsquo;s returned function, and many standard attributes change. To preserve these, we can use another built-in decorator to keep important metadata.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span> <span class="c1"># Preserve important function information</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">stime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># Run decorated function</span>
</span></span><span class="line"><span class="cl">		<span class="n">etime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nb">print</span><span class="p">(</span><span class="n">etime</span><span class="o">-</span><span class="n">stime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">result</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">wrapper</span> <span class="c1"># Return decorated function</span>
</span></span></code></pre></div><h2 id="4-comprehensions-and-generators">
  4. Comprehensions and Generators
  <a class="heading-link" href="#4-comprehensions-and-generators">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="41-use-list-comprehensions">
  4.1 Use list comprehensions
  <a class="heading-link" href="#41-use-list-comprehensions">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉIn Python, you can derive a new list from an iterable object. This is called a <strong>list comprehension</strong> (there are also dictionary and set comprehensions).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">l1</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">l2</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l1</span> <span class="k">if</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span> <span class="c1"># Take all even numbers in l1 and square them to create a new list</span>
</span></span></code></pre></div><p>Besides the basic use, list comprehensions support nested loops and multiple if conditions (AND relation), but generally should not exceed two.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">mat</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">squar_mat</span> <span class="o">=</span> <span class="p">[[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">row</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="p">]</span> <span class="c1"># Use two layers of nesting to square each y in the matrix</span>
</span></span></code></pre></div><p>Sometimes we want to first test a value and then use it, where we can add assignment expressions in the if to simplify code.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;A&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&#34;b&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">&#34;C&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;A&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">found</span> <span class="o">=</span> <span class="p">[(</span><span class="n">name</span><span class="p">,</span><span class="n">batches</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">order</span> <span class="k">if</span> <span class="p">(</span><span class="n">batches</span> <span class="o">:=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="mi">0</span><span class="p">))]</span>
</span></span></code></pre></div><p>Sometimes, when data volume is large, to avoid high memory usage, replace square brackets with parentheses to create a generator expression, computing one result at a time.</p>
<h3 id="42-use-generators">
  4.2 Use generators
  <a class="heading-link" href="#42-use-generators">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉWhen functions need to return many list-like elements, consider using <strong>generators</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Return the position of each word&#39;s start in a sentence</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">index_words</span><span class="p">(</span><span class="n">test</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">text</span><span class="p">:</span> <span class="c1"># The first letter of the sentence is not empty</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">letter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="s2">&#34; &#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">yield</span> <span class="n">index</span><span class="o">+</span><span class="mi">1</span>
</span></span></code></pre></div><p>When a function&rsquo;s <code>return</code> is changed to <code>yield</code>, it becomes a generator. Each time <code>next</code> is called, it runs once, with advantages of low memory usage and clear intent. But generators cannot be reused: <em>each generator has its own state</em>.</p>
<p>‚ÄÉ‚ÄÉTo allow producing a new generator each time iteration is needed, we can create a container implementing the <strong>iterator protocol</strong>, becoming an iterable container rather than just an iterator. (Built-in lists are also iterable containers.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Implement an iterable container; each iteration produces a new generator object</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ReadVisits</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data_path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">data_path</span> <span class="o">=</span> <span class="n">data_path</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">yield</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span></code></pre></div><blockquote>
<p>When Python runs <code>for x in l</code>, it calls <code>iter(l)</code>, triggering <code>l.__iter__</code>, which returns an iterator object (implementing <code>__next__</code>). Python repeatedly calls <code>next</code> until data is exhausted.</p></blockquote>
<p>Sometimes we want to use multiple generators in sequence; <code>yield from</code> can simplify the code.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">period</span><span class="p">,</span><span class="n">speed</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">period</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="n">speed</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">pause</span><span class="p">(</span><span class="n">delay</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">delay</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">action</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">yield from</span> <span class="n">move</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">yield from</span> <span class="n">pause</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span></span></code></pre></div><p>Also, iterators can be combined using tools from <code>itertools</code>, including chaining, filtering, and composing.</p>
<h2 id="5-classes-and-interfaces">
  5. Classes and Interfaces
  <a class="heading-link" href="#5-classes-and-interfaces">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="51-let-simple-interfaces-accept-functions">
  5.1 Let simple interfaces accept functions
  <a class="heading-link" href="#51-let-simple-interfaces-accept-functions">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉPython has many built-in APIs allowing us to pass stateless functions with clear parameters and return values to customize behavior. Such functions are called <strong>hooks</strong>, which are called back by the API at appropriate times (like <code>sort</code>).</p>
<p>‚ÄÉ‚ÄÉSometimes we want to record information when the function is called (like counting calls). We can use a callable class object with <code>__call__</code> as the hook function.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Returns 0 when called and records the count</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">CountMissing</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">added</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">added</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span>
</span></span></code></pre></div><h3 id="52-class-calls-itself">
  5.2 Class calls itself
  <a class="heading-link" href="#52-class-calls-itself">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉWhen implementing polymorphism and other features, Python sometimes writes external functions inside the class, which need to call the class itself. We use <code>@classmethod</code> to implement this.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">PathInputData</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@classmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">generate_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span><span class="nb">dict</span><span class="p">):</span>  <span class="c1"># This method calls itself to generate instances of this type.</span>
</span></span><span class="line"><span class="cl">        <span class="n">data_dir</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">[</span><span class="s1">&#39;data_dir&#39;</span><span class="p">]</span> <span class="c1"># Find data directory info from passed config</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">data_dir</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">yield</span> <span class="bp">cls</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
</span></span></code></pre></div><h3 id="53-class-attribute-settings">
  5.3 Class attribute settings
  <a class="heading-link" href="#53-class-attribute-settings">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉPython class attributes have two access levels: public and private. Private attributes start with two underscores and can only be used by the class itself. Actually, Python implements private attributes by name mangling, prefixing the attribute name with <code>_classname</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Name</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">__value</span> <span class="o">=</span> <span class="n">value</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl"><span class="n">n</span> <span class="o">=</span> <span class="n">Name</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">n</span><span class="o">.</span><span class="n">_Name__value</span>
</span></span></code></pre></div><p>Attributes starting with a single underscore are conventionally called <strong>protected fields</strong>. PEP8 recommends this approach for attribute protection, as it may lead to misuse by subclasses, but direct restriction is discouraged; instead, suggestions are provided in documentation. However, if the superclass is an API for external use, private attributes can be used to avoid name collisions.</p>
<h3 id="54-initialize-superclass">
  5.4 Initialize superclass
  <a class="heading-link" href="#54-initialize-superclass">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉAfter inheritance, the superclass can generally be initialized by calling the class name and <code>__init__</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyBaseClass</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">TimesSeven</span><span class="p">(</span><span class="n">MyBaseClass</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">MyBaseClass</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">*=</span> <span class="mi">7</span>
</span></span></code></pre></div><p>But this approach can cause issues in multiple inheritance (like diamond inheritance where the base class is inherited repeatedly). So it&rsquo;s better to use <code>super</code> which follows the Method Resolution Order (MRO).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">TimesSeven</span><span class="p">(</span><span class="n">MyBaseClass</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">*=</span> <span class="mi">7</span>
</span></span></code></pre></div><p>Generally, <code>super</code> does not require arguments but can accept two: <code>super(Class, self).__init__(value)</code> where the first argument specifies from which class to start MRO initialization, and the second controls the resolution order based on the class.</p>
<p>Usually, if we want to use multiple inheritance for convenient logic encapsulation, we should write the inherited classes as mix-in classes, which provide a small set of methods for subclasses, do not define instance-level attributes, and do not use constructors.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Represent Python objects as dictionaries</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ToDictMixin</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_traverse_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_traverse_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance_dict</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">output</span> <span class="o">=</span> <span class="nb">dict</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">instance_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">output</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_traverse</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">output</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_traverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ToDictMixin</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_traverse_dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_traverse</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">value</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&#34;__dict__&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_traverse_dict</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">value</span>
</span></span></code></pre></div><p>Such a class is intended to be inherited by other types and provide methods for fine adjustments, including instance and class methods.</p>
<h3 id="55-custom-containers">
  5.5 Custom containers
  <a class="heading-link" href="#55-custom-containers">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>‚ÄÉ‚ÄÉSometimes we want our custom classes to behave like lists or tuples, supporting sequence operations. Besides implementing <code>__getitem__</code> for indexing and <code>__len__</code> for length, we can inherit abstract base classes from Python&rsquo;s built-in <code>collections.abc</code> module and implement the required methods.</p>

  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
      2024 -
    
    2025
     ChengAo Shen 
    ¬∑
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
